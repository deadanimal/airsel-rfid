<div class="header pb-6">
  <div class="container-fluid">
    <div class="header-body">
      <div class="row align-items-center py-4">
        <div class="col-lg-6 col-7">
          <h6 class="h2 text-dark d-inline-block mb-0">
            Asset Management - Registration
          </h6>

          <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
            <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
              <li class="breadcrumb-item">
                <a href="javascript:void(0)">
                  <i class="fas fa-boxes text-dark"> </i>
                </a>
              </li>
            </ol>
          </nav>

          <ng-template #popTemplate>
            <h4 class="text-center">Information</h4>
            <small class="text-justify">User able to register new asset in bulk by upload excel file. The
              new data will be listed below for user preview and any error will
              be highlighted for user actions. The registration will be pass to
              admin for review before adding into the database.</small>
          </ng-template>
          <button type="button" class="btn btn-icon btn-default btn-sm ml-md-4" [popover]="popTemplate"
            placement="right" [outsideClick]="true">
            <span class="btn-inner--icon"><i class="fas fa-info-circle"></i></span>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>

<div class="container-fluid mt--6">
  <div class="row">
    <div class="col-lg-4 col-xs-12">
      <div class="card">
        <div class="card-header py-3 bg-secondary">
          <div class="row">
            <div class="col">
              <h4 class="m-0">Upload</h4>
            </div>
            <div class="col-auto text-right">
              <button class="btn btn-default btn-sm" (click)="openModalUpload(uploadFile)">Upload
              </button>
            </div>
          </div>
        </div>
        <div class="card-body" style="display: flex; justify-content: center; align-items: center;">
          <img src="../../../../../assets/svg/upload.svg" style="width: 60%;" />
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-xs-12">
      <div class="card">
        <div class="card-header py-3 bg-secondary">
          <div class="row">
            <div class="col">
              <h4 class="m-0">Fill the forms</h4>
            </div>
            <div class="col-auto text-right">
              <button class="btn btn-default btn-sm" (click)="openModalRegister(asset)">
                Register Asset
              </button>
            </div>
          </div>
        </div>
        <div class="card-body" style="display: flex; justify-content: center; align-items: center;">
          <img src="../../../../../assets/svg/fill_forms.svg" style="width: 70%;" />
        </div>
      </div>
    </div>
    <div class="col-lg-4 col-xs-12">
      <div class="card">
        <div class="card-header py-3 bg-secondary">
          <div class="row">
            <div class="col">
              <h4 class="m-0">Download the template</h4>
            </div>
            <div class="col-auto text-right">
              <button class="btn btn-default btn-sm">
                <a href="../../../../../assets/file/Asset Registration Blank Template.xlsx" style="color: white;"
                  download>
                  Download
                </a>
              </button>
            </div>
          </div>
        </div>
        <div class="card-body" style="display: flex; justify-content: center; align-items: center;">
          <img src="../../../../../assets/svg/download_files.svg" style="width: 68%;" />
        </div>
      </div>
    </div>
  </div>

</div>

<ng-template #asset>
  <div class="modal-header bg-default">
    <h6 class="modal-title my-auto text-white">
      Asset
    </h6>

    <button *ngIf="modalRegisterAsset" aria-label="Close" class="close" data-dismiss="modal" type="button"
      (click)="modalRegisterAsset.hide()">
      <span aria-hidden="true" class="my-auto text-white"> × </span>
    </button>

    <button *ngIf="modal" aria-label="Close" class="close" data-dismiss="modal" type="button" (click)="modal.hide()">
      <span aria-hidden="true" class="my-auto text-white"> × </span>
    </button>
  </div>

  <div class="modal-body">

  </div>

  <div class="modal-footer">
    <button *ngIf="modalRegisterAsset" class="btn btn-default btn-sm mr-auto" type="button" (click)="register()">
      Register
    </button>

    <button *ngIf="modalEditAsset" class="btn btn-success btn-sm mr-auto" type="button" (click)="update()">
      Update
    </button>

    <button *ngIf="modalRegisterAsset" class="btn btn-secondary btn-sm ml-auto" data-dismiss="modal" type="button"
      (click)="modalRegisterAsset.hide()">
      Close
    </button>

    <button *ngIf="modalEditAsset" class="btn btn-secondary btn-sm ml-auto" data-dismiss="modal" type="button"
      (click)="modalEditAsset.hide()">
      Close
    </button>
  </div>
</ng-template>

<ng-template #viewAsset>
  <div class="modal-header bg-default">
    <h6 class="modal-title my-auto text-white">
      List of Asset
    </h6>

    <button aria-label="Close" class="close" data-dismiss="modalViewAsset" type="button"
      (click)="modalViewAsset.hide()">
      <span aria-hidden="true" class="my-auto text-white"> × </span>
    </button>
  </div>

  <div class="modal-body">
    <div class="table-responsive">
    </div>
  </div>

  <div class="modal-footer">
    <button class="btn btn-secondary btn-sm ml-auto" data-dismiss="modalViewAsset" type="button"
      (click)="modalViewAsset.hide()">
      Close
    </button>
  </div>
</ng-template>

<ng-template #uploadFile>
  <div class="modal-header bg-default">
    <h6 class="modal-title my-auto text-white">
      List of Asset
    </h6>

    <button aria-label="Close" class="close" data-dismiss="modalViewAsset" type="button" (click)="closeModal()">
      <span aria-hidden="true" class="my-auto text-white"> × </span>
    </button>
  </div>

  <div class="modal-body">

    <form [formGroup]="fileuploadFormGroup">
      <div class="form-group">
        <label class="form-control-label">Upload Excel</label>
        <input class="form-control" name="excelFile" (change)="onFileChange($event)" type="file">
      </div>
    </form>

  </div>

  <div class="modal-footer">
    <button class="btn btn-default btn-sm" (click)="submitFileExcel()">
      Submit
    </button>
    <button class="btn btn-secondary btn-sm" type="button" (click)="closeModal()">
      Close
    </button>
  </div>
</ng-template>